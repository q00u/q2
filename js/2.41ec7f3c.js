"use strict";(self["webpackChunkq2"]=self["webpackChunkq2"]||[]).push([[2],{5326:(e,i,t)=>{t.d(i,{W:()=>c});var s=t(321);const c=(0,s.Q_)("Gif",{state:()=>({activeIds:[],showGif:!1,gifSrcFull:""}),actions:{activate(e){this.activeIds.includes(e)||this.activeIds.push(e)},deactivate(e){this.activeIds.includes(e)&&this.activeIds.splice(this.activeIds.indexOf(e),1)},clear(){this.activeIds.length=0}}})},7509:(e,i,t)=>{t.d(i,{R:()=>g});var s=t(321),c=t(3113),n=t.n(c),o=t(8825),r=t(5326);const a=n()(process.env.PUBLIC_KEY),l=(0,o.Z)(),g=(0,s.Q_)("Search",{state:()=>({activeSearch:"",activeResults:null,searchHistory:{},searchOptions:{rating:"g",q:"",limit:24}}),actions:{newTrending(){""===this.activeSearch&&(console.debug("action: trending"),this.activeSearch="Trending",this.searchHistory.Trending||(console.debug("action: trending: calling giphy with",this.searchOptions),a.trending(this.searchOptions).then((e=>{console.debug("action: trending: results:",e),this.activeResults=e,this.searchHistory.Trending=e})).catch((e=>{console.error("Broke while trying to get Trending from Giphy\n",e),l.notify({group:!1,progress:!0,type:"negative",message:"Something went wrong trying to get trending..."})}))))},newSearch(e,i=!0){if(console.debug("action: newSearch",e,i),!e)return;this.activeSearch=e,i&&this.searchHistory[e]?(console.debug("action: newSearch: OLD search!"),this.activeResults=this.searchHistory[e]):(console.debug("action: newSearch: New search!"),this.searchOptions.q=this.activeSearch,console.debug("action: newSearch: calling giphy with",this.searchOptions),a.search(this.searchOptions).then((e=>{console.debug("action: runSearch: results:",e),this.activeResults=e,this.searchHistory[this.searchOptions.q]=e})).catch((e=>{console.error("Broke while trying to search Giphy\n",e),l.notify({group:!1,progress:!0,type:"negative",message:"Something went wrong trying to search Giphy..."})})));const t=(0,r.W)();t.clear(),console.debug("gifStore",t.activeIds)}}})},6002:(e,i,t)=>{t.r(i),t.d(i,{default:()=>k});var s=t(3673);const c={class:"row"};function n(e,i,t,n,o,r){const a=(0,s.up)("gif-object"),l=(0,s.up)("q-img"),g=(0,s.up)("q-dialog");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",c,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.data,(e=>((0,s.wg)(),(0,s.j4)(a,{key:e.id,class:"col-xs-6 col-sm-4 col-md-3 col-lg-2",gifObject:e},null,8,["gifObject"])))),128))]),(0,s.Wm)(g,{modelValue:e.showGif,"onUpdate:modelValue":i[0]||(i[0]=i=>e.showGif=i),"no-shake":""},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{src:e.gifSrcFull},null,8,["src"])])),_:1},8,["modelValue"])],64)}var o=t(7509),r=t(5326),a=t(2323);const l={key:0,class:"absolute-bottom-left"},g={key:1,class:"absolute-bottom-right"};function h(e,i,t,c,n,o){const r=(0,s.up)("q-icon"),h=(0,s.up)("q-img");return(0,s.wg)(),(0,s.j4)(h,{ratio:1,src:e.gifSrc,class:(0,a.C_)([{dimmed:e.dimMyself},"img-responsive"]),fit:"cover",onMouseover:e.dimOthers,onMouseleave:e.undim},{default:(0,s.w5)((()=>[e.activeGif?((0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(r,{onClick:e.copy,class:"cursor-pointer",name:"content_copy",size:"lg"},null,8,["onClick"])])):(0,s.kq)("",!0),e.activeGif?((0,s.wg)(),(0,s.iD)("div",g,[(0,s.Wm)(r,{onClick:e.showGif,class:"cursor-pointer",name:"open_in_full",size:"lg"},null,8,["onClick"])])):(0,s.kq)("",!0)])),_:1},8,["src","class","onMouseover","onMouseleave"])}var d=t(1914),u=t(8825);const f=(0,s.aZ)({name:"GifObject",props:{gifObject:{type:Object,required:!0}},setup(e){const i=(0,r.W)(),t=(0,s.Fl)((()=>{const i=parseInt(e.gifObject.images.fixed_height.width,10);return i<200?e.gifObject.images.fixed_width.url:e.gifObject.images.fixed_height.url})),c=()=>{i.gifSrcFull=e.gifObject.images.original.url,i.showGif=!0,console.debug("Showing full size original gif",i.showGif,i.gifSrcFull)},n=(0,u.Z)(),o=()=>{(0,d.Z)(e.gifObject.url).then((()=>{n.notify({group:!1,progress:!0,type:"positive",message:"Copied!",timeout:1e3})})).catch((e=>{console.error("Failed to copy to clipboard",e),n.notify({group:!1,progress:!0,type:"negative",message:"Something went wrong..."})}))},a=(0,s.Fl)((()=>i.activeIds.length>0&&i.activeIds.includes(e.gifObject.id))),l=(0,s.Fl)((()=>i.activeIds.length>0&&!i.activeIds.includes(e.gifObject.id))),g=()=>{i.activate(e.gifObject.id)},h=()=>{i.deactivate(e.gifObject.id)};return{gifSrc:t,showGif:c,copy:o,activeGif:a,dimMyself:l,dimOthers:g,undim:h}}});var p=t(4260),v=t(4027),m=t(4554),w=t(7518),b=t.n(w);const y=(0,p.Z)(f,[["render",h]]),O=y;b()(f,"components",{QImg:v.Z,QIcon:m.Z});var S=t(321);const j=(0,s.aZ)({name:"PageIndex",setup(){const e=(0,o.R)(),i=(0,s.Fl)((()=>{var i;return null===(i=e.activeResults)||void 0===i?void 0:i.data})),t=(0,r.W)(),{showGif:c,gifSrcFull:n}=(0,S.Jk)(t);return(0,s.bv)((()=>{e.newTrending()})),{data:i,showGif:c,gifSrcFull:n}},components:{GifObject:O}});var G=t(2134);const I=(0,p.Z)(j,[["render",n]]),k=I;b()(j,"components",{QDialog:G.Z,QImg:v.Z})}}]);