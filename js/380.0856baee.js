"use strict";(self["webpackChunkq2"]=self["webpackChunkq2"]||[]).push([[380],{5326:(e,t,s)=>{s.d(t,{W:()=>i});var a=s(321);const i=(0,a.Q_)("Gif",{state:()=>({activeIds:[],showGif:!1,gifSrcFull:""}),actions:{activate(e){this.activeIds.includes(e)||this.activeIds.push(e)},deactivate(e){this.activeIds.includes(e)&&this.activeIds.splice(this.activeIds.indexOf(e),1)},clear(){this.activeIds.length=0}}})},7509:(e,t,s)=>{s.d(t,{R:()=>h});var a=s(321),i=s(3113),c=s.n(i),n=s(8825),r=s(5326);const o=c()(process.env.PUBLIC_KEY),l=(0,n.Z)(),h=(0,a.Q_)("Search",{state:()=>({activeSearch:"",activeResults:null,searchHistory:{},searchOptions:{rating:"g",q:"",limit:24}}),actions:{newTrending(){""===this.activeSearch&&(console.debug("action: trending"),this.activeSearch="Trending",this.searchHistory.Trending||(console.debug("action: trending: calling giphy with",this.searchOptions),o.trending(this.searchOptions).then((e=>{console.debug("action: trending: results:",e),this.activeResults=e,this.searchHistory.Trending=e})).catch((e=>{console.error("Broke while trying to get Trending from Giphy\n",e),l.notify({group:!1,progress:!0,type:"negative",message:"Something went wrong trying to get trending..."})}))))},newSearch(e,t=!0){if(console.debug("action: newSearch",e,t),!e)return;this.activeSearch=e,t&&this.searchHistory[e]?(console.debug("action: newSearch: OLD search!"),this.activeResults=this.searchHistory[e]):(console.debug("action: newSearch: New search!"),this.searchOptions.q=this.activeSearch,console.debug("action: newSearch: calling giphy with",this.searchOptions),o.search(this.searchOptions).then((e=>{console.debug("action: runSearch: results:",e),this.activeResults=e,this.searchHistory[this.searchOptions.q]=e})).catch((e=>{console.error("Broke while trying to search Giphy\n",e),l.notify({group:!1,progress:!0,type:"negative",message:"Something went wrong trying to search Giphy..."})})));const s=(0,r.W)();s.clear(),console.debug("gifStore",s.activeIds)}}})},380:(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var a=s(3673),i=s(8880),c=s(2323);const n=(0,a.Uk)("for"),r=(0,a._)("img",{src:"/icons/logo_padding_64x64.png"},null,-1),o={class:"text-caption"},l=(0,a._)("div",{class:"text-h5"},"Search History",-1),h={class:"column"},u={class:"row justify-between"},d={class:"col"},g={class:"col-1"};function p(e,t,s,p,w,v){const m=(0,a.up)("q-img"),y=(0,a.up)("q-toolbar-title"),f=(0,a.up)("q-avatar"),S=(0,a.up)("q-icon"),_=(0,a.up)("q-input"),k=(0,a.up)("q-btn"),b=(0,a.up)("q-space"),q=(0,a.up)("q-toolbar"),W=(0,a.up)("q-header"),x=(0,a.up)("q-card-section"),H=(0,a.up)("q-separator"),Z=(0,a.up)("q-card"),Q=(0,a.up)("q-dialog"),T=(0,a.up)("router-view"),C=(0,a.up)("q-page-container"),I=(0,a.up)("q-layout"),O=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(I,{view:"lHh Lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{elevated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{src:"/icons/favicon-32x32.png",style:{height:"32px",width:"32px"}}),(0,a.Wm)(y,{shrink:"",style:{"min-width":"51px"}},{default:(0,a.w5)((()=>[n])),_:1}),(0,a.Wm)(f,{size:"32px"},{default:(0,a.w5)((()=>[r])),_:1}),(0,a.Wm)(_,{modelValue:e.searchText,"onUpdate:modelValue":t[2]||(t[2]=t=>e.searchText=t),type:"search",class:"q-ml-md",label:"Search",maxlength:"50",dark:"",dense:"",standout:"",style:{width:"80%"},onFocus:t[3]||(t[3]=t=>{e.showHistory=!0;try{t.target.select()}catch(s){e.console.error(e.err)}}),onKeydown:t[4]||(t[4]=(0,i.D2)((t=>e.runSearch(e.searchText)),["enter"]))},{append:(0,a.w5)((()=>[""===e.searchText?((0,a.wg)(),(0,a.j4)(S,{key:0,name:"search"})):((0,a.wg)(),(0,a.j4)(S,{key:1,name:"clear",class:"cursor-pointer",onClick:t[0]||(t[0]=t=>e.searchText="")}))])),after:(0,a.w5)((()=>[""!==e.searchText?((0,a.wg)(),(0,a.j4)(S,{key:0,onClick:t[1]||(t[1]=t=>e.runSearch(e.searchText)),class:"cursor-pointer",name:"search"})):(0,a.kq)("",!0),(0,a._)("span",o,(0,c.zw)(e.searchText.length)+"/50 ",1)])),_:1},8,["modelValue"]),(0,a.Wm)(k,{flat:"",onClick:e.settings},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{name:"settings"})])),_:1},8,["onClick"]),(0,a.Wm)(b),(0,a._)("div",null,"v"+(0,c.zw)(e.version),1)])),_:1})])),_:1}),(0,a.Wm)(Q,{modelValue:e.showHistory,"onUpdate:modelValue":t[5]||(t[5]=t=>e.showHistory=t),"no-focus":"","no-refocus":"","no-shake":"",seamless:""},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{style:{"min-width":"50%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{class:"row items-center no-wrap"},{default:(0,a.w5)((()=>[l,(0,a.Wm)(b),(0,a.wy)((0,a.Wm)(k,{flat:"",round:"",icon:"close"},null,512),[[O]])])),_:1}),(0,a.Wm)(H),(0,a.Wm)(x,{style:{"max-height":"50vh"},class:"scroll"},{default:(0,a.w5)((()=>[(0,a._)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.historyList,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{key:s,class:"col"},[(0,a._)("div",u,[(0,a._)("div",d,[(0,a.Wm)(k,{flat:"",onClick:s=>e.runSearch(t)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,c.zw)(t),1)])),_:2},1032,["onClick"])]),(0,a._)("div",g,[(0,a.Wm)(k,{flat:"",round:"",icon:"autorenew",onClick:s=>e.runSearch(t,!1)},null,8,["onClick"])])])])))),128))])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T)])),_:1})])),_:1})}var w=s(7509),v=s(1959);const m=(0,a.aZ)({name:"MainLayout",setup(){const e="0.0.5",t=(0,v.iH)(null),s=(0,w.R)(),i=(0,v.iH)(!1),c=(0,a.Fl)((()=>Object.keys(s.searchHistory))),n=(0,v.iH)(s.activeSearch),r=(e,a=!0)=>{console.debug("searchText",e,a),i.value=!1,s.newSearch(e,a),n.value=s.activeSearch,console.debug("active search:",s.activeSearch),console.debug("active results:",s.activeResults),t.value&&t.value.blur()},o=(0,v.iH)(!1),l=()=>{o.value=!o.value};return{version:e,searchText:n,runSearch:r,showHistory:i,historyList:c,showSettings:o,settings:l}}});var y=s(4260),f=s(3066),S=s(3812),_=s(9570),k=s(4027),b=s(3747),q=s(5096),W=s(2025),x=s(5509),H=s(4554),Z=s(2452),Q=s(2134),T=s(151),C=s(5589),I=s(5869),O=s(2652),L=s(677),R=s(7518),j=s.n(R);const V=(0,y.Z)(m,[["render",p]]),D=V;j()(m,"components",{QLayout:f.Z,QHeader:S.Z,QToolbar:_.Z,QImg:k.Z,QToolbarTitle:b.Z,QAvatar:q.Z,QSpace:W.Z,QInput:x.Z,QIcon:H.Z,QBtn:Z.Z,QDialog:Q.Z,QCard:T.Z,QCardSection:C.Z,QSeparator:I.Z,QPageContainer:O.Z}),j()(m,"directives",{ClosePopup:L.Z})}}]);